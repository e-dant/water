#!/usr/bin/env bash

lastdir="$PWD"
cd "$(dirname "$0")"
thisdir="$PWD"

CC="$PWD/../../../tools/compilers/llvm/build/out/bin/clang"
CXX="$PWD/../../../tools/compilers/llvm/build/out/bin/clang++"

cmake \
  -D CMAKE_C_COMPILER="$CC" \
  -D CMAKE_CXX_COMPILER="$CXX" \
  -S 'in' -B 'out' -G 'Ninja' -Wno-dev \
  && cmake --build out --config Release
retval=$?

cd "$lastdir"
exit $retval
